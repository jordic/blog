    <!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Jordi Collell">
		<meta name="description" content="Relevant things for myself">
		<meta name="generator" content="Hugo 0.15" />
		<title>Running a single node kubelet on gcloud &middot; Jordi notes</title>
        <link href='https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
		<link rel="shortcut icon" href="https://j.tmpo.io/images/favicon.ico">
		<link rel="stylesheet" href="https://j.tmpo.io/css/main.css">
		<link rel="stylesheet" href="https://j.tmpo.io/css/highlight.css">
		<link rel="stylesheet" href="https://j.tmpo.io/css/monosocialiconsfont.css">
		
		<link href="https://j.tmpo.io/index.xml" rel="alternate" type="application/rss+xml" title="Jordi notes" />
		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://j.tmpo.io/'> <span class="arrow">←</span>Home</a>
	

</nav>


        <section id="wrapper">
            <article class="post">
                <header>
                    <h2 class="headline">7/02/2016</h2>
                    <h1>Running a single node kubelet on gcloud</h1>
                </header>
                <section id="post-body">
                    

<h2 id="rationale:89b45daf0c6780052adc3b010194b78b">RATIONALE</h2>

<p>Start a single node kubelet, with a pod definition, as described here:</p>

<p><a href="https://cloud.google.com/compute/docs/containers/container_vms">https://cloud.google.com/compute/docs/containers/container_vms</a></p>

<p>It can be useful for projects that need to lanuch single projects
as entites..</p>

<h3 id="create-instance:89b45daf0c6780052adc3b010194b78b">Create Instance</h3>

<pre><code>gcloud compute instances create containervm-test \ 
    --image container-vm --metadata-from-file \
    google-container-manifest=demo.yaml \
    --zone europe-west1-d --machine-type f1-micro \
    --scopes compute-rw,storage-rw,monitoring
</code></pre>

<h3 id="test-if-installation-is-working:89b45daf0c6780052adc3b010194b78b">Test if installation is working</h3>

<pre><code>gcloud compute ssh containervm-test
sudo docker ps
</code></pre>

<h3 id="open-firewall:89b45daf0c6780052adc3b010194b78b">Open firewall</h3>

<pre><code>gcloud compute firewall-rules create sample-http --allow tcp:80
</code></pre>

<h3 id="cleanup-all:89b45daf0c6780052adc3b010194b78b">Cleanup all</h3>

<pre><code>gcloud compute instances delete containervm-test
</code></pre>

<h3 id="what-can-contain-a-demo-yaml:89b45daf0c6780052adc3b010194b78b">What can contain a demo.yaml</h3>

<p>A Pod definition, as in kubernetes.</p>

<h3 id="what-are-the-costs-of-a-f1-micro-with-a-ssd-10g-hd:89b45daf0c6780052adc3b010194b78b">What are the costs of a f1-micro with a SSD 10G HD</h3>

<p>6.3$/month</p>

<p><a href="https://cloud.google.com/products/calculator/#id=ed0c925f-b897-484d-9a6e-c02a010649ff">https://cloud.google.com/products/calculator/#id=ed0c925f-b897-484d-9a6e-c02a010649ff</a></p>

                </section>
            </article>
            

            <ul id="post-list" class="archive readmore">
    <h3>Read more</h3>
    
    
        
        <li>
            <a href="https://j.tmpo.io/post/deploy_go_angular_apps/">Deploying Go &#43; Angular Applications<aside class="dates">Feb 21</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/angular-seed/">Angular tmpo seed<aside class="dates">Feb 12</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/lti/">lti. New go project<aside class="dates">Feb 10</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/phabricator_caddy/">Caddy with phabricator<aside class="dates">Feb 8</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/kubelet_single_node/">Running a single node kubelet on gcloud<aside class="dates">Feb 7</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/ubuntu_upstart/">Proting our nginx sites to Caddy<aside class="dates">Feb 6</aside></a>
        </li>
        
   
    
        
        <li>
            <a href="https://j.tmpo.io/post/angular_karma_404/">Angular Karma run tests images 404<aside class="dates">Feb 6</aside></a>
        </li>
        
   
</ul>
            <footer id="footer">
    
        
<div id="social">
    
    <a class="symbol" href="https://github.com/jordic">
        github
    </a>
    
    <a class="symbol" href="https://twitter.com/galigan">
        twitterbird
    </a>
    
</div>

    
    <p class="small">
    
        © Copyright 2016 Jordi Collell j@tmpo.io
    
    </p>
</footer>

        </section>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://j.tmpo.io/js/main.js"></script>
<script src="https://j.tmpo.io/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    </body>
</html>
